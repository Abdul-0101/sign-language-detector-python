<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Sign Language Detector</title>
  </head>
  <body>
    <h1>Sign Language Detector</h1>

    <!-- Live camera feed -->
    <img src="{{ url_for('video') }}" width="600" />

    <!-- Autoâ€playing TTS -->
    <audio id="tts_player" autoplay>
      <source src="{{ url_for('static', filename='tts.mp3') }}" type="audio/mpeg">
    </audio>

    <!-- Controls -->
    <div style="margin-top:20px;">
      <a href="{{ url_for('reset') }}">ðŸ”„ Reset Word</a> |
      <a href="{{ url_for('inference-code') }}">ðŸ“„ View Inference Code</a>
    </div>
  </body>
  <script>
    // Whenever the video frame reloads, reload the audio too (cacheâ€bust)
    const img = document.querySelector('img');
    const audio = document.getElementById('tts_player');
    img.addEventListener('load', () => {
      const src = audio.querySelector('source');
      src.src = src.src.split('?')[0] + '?t=' + Date.now();
      audio.load();
    });
  </script>
</html>
